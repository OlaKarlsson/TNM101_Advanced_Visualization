<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/3.0.2/vega.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.0-beta.21/vega-lite.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-beta.19/vega-embed.js"></script>
  <style>
    body {
      font-family: sans-serif;
    }

    .vega-actions a {
      padding: 5px;
    }
  </style>
   <title>Visualization of IMDB and Bechdel test data</title>
</head>

<body>
    <h1>Visualization of IMDB and Bechdel test data</h1>


<button id="avgRatingPerYear">Average Bechdel Rating per YEAR</button>
<button id="avgRatingPerCountry">Average Bechdel Rating per COUNTRY</button>

  <div id="vis"></div>

  <script>
    const opt = {"actions":false}
    showAvgRatingPerYear();


    var avgRatingPerYearBtn = document.getElementById("avgRatingPerYear");
    avgRatingPerYearBtn.addEventListener("click", showAvgRatingPerYear, false);

    function showAvgRatingPerYear(){
      var avgRatingPerYearSpec = "average_per_year.json";

      vega.embed('#vis', avgRatingPerYearSpec, opt).then(function(result) {
      // access view as result.view
      }).catch(console.error);


    }


    var avgRatingPerCountryBtn = document.getElementById("avgRatingPerCountry");
    avgRatingPerCountryBtn.addEventListener("click", showAvgRatingPerCountry, false);

    function showAvgRatingPerCountry(){
      var avgRatingPerCountrySpec = "rating_per_country.json";
      vega.embed('#vis', avgRatingPerCountrySpec, opt).then(function(result) {
      // access view as result.view
      }).catch(console.error);


    }


  </script>
</body>
